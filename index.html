<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <script src="main.js"></script>
    <link rel="stylesheet" href="main.css">
    <script src="https://aframe.io/releases/1.0.3/aframe.min.js"></script>
    <script src="https://unpkg.com/aframe-animation-component@3.2.1/dist/aframe-animation-component.min.js"></script>
    <script src="https://unpkg.com/aframe-particle-system-component@1.0.x/dist/aframe-particle-system-component.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.1.0/dist/aframe-extras.min.js"></script>
    <script src="https://unpkg.com/aframe-event-set-component@3.0.3/dist/aframe-event-set-component.min.js"></script>
    <script src="https://unpkg.com/aframe-extras.ocean@%5E3.5.x/dist/aframe-extras.ocean.min.js"></script>
    <script src="https://unpkg.com/aframe-gradient-sky@1.0.4/dist/gradientsky.min.js"></script>
    <script src="https://unpkg.com/aframe-charts-component/dist/aframe-charts-component.min.js"></script>
    <script src="https://unpkg.com/aframe-food-component/dist/aframe-food-component.min.js"></script>
    <script src="https://rawgit.com/mayognaise/aframe-gif-shader/master/dist/aframe-gif-shader.min.js"></script>
    <script src="https://rawgit.com/mayognaise/aframe-gif-component/master/dist/aframe-gif-component.min.js"></script>
    <script src="https://unpkg.com/aframe-mirror-component/dist/aframe-mirror-component.min.js"></script>
    <title>Ilya Sidorchik, 171-332. Web 3D</title>
</head>
<body>
<a-scene id="scene" shadow="autoUpdate: true; type: pcf" sound="src: url(sound/embient.mp3); autoplay: true; loop: true; volume: 0.7">
    <a-entity camera look-controls wasd-controls="acceleration:100" position="1 1.3 4"></a-entity>
    <a-entity particle-system="preset: snow" position="0 0 -10"></a-entity
    <a-assets>
        <a-mixin id="light"
                 geometry="primitive: sphere; radius: 1.5"
                 material="color: #FFF; shader: flat"
                 light="color: #DDDDFF; distance: 100; intensity: 1; type: point; castShadow:true;"></a-mixin>
    </a-assets>
    <a-entity mirror
              box="width: 0.5; height: 0.25; depth: 1; color: orange"
              position="1 1 1">

    </a-entity>
    <!-- НАЧАЛО ФЛАГА -->
    <a-cylinder position="-0.05 4 -2.1" material="src: textures/roof.jpg" height="1.5" radius="0.02">
        <a-entity position="0.8 0.4 0" id="flag" material="src: textures/flag.png"
                  ocean="density: 2; width: 1.5; depth: 0.5; speed: 1"
                  material="color: #9CE3F9; opacity: 0.75; metalness: 0; roughness: 1"
                  rotation="0 0 0"></a-entity>
    </a-cylinder>
    <!-- КОНЕЦ ФЛАГА -->

    <!-- НАЧАЛО СВЕТА -->
    <a-light color="#777" position="-1 7 0"></a-light>
    <!-- КОНЕЦ СВЕТА -->

    <!-- НАЧАЛО ОЗЕРА -->
    <a-entity id="ocean" position="3 -0.1 -2.5" rotation="-800 0 0" material="src: textures/water.jpg; "
              ocean="density: 4; width: 2; depth: 2; speed: 1"
              sound="src: url(sound/pond.mp3); autoplay: true; loop: true; volume: 0.2"
              material="color: #9CE3F9; opacity: 0.75; metalness: 0; roughness: 2"
              rotation="-90 0 0">

        <a-dodecahedron shadow="receive: true" material="src: textures/stone1.jpeg; " radius="0.4"
                        position="0 1.1 -0.1"></a-dodecahedron>
        <a-dodecahedron shadow="receive: true" material="src: textures/stone1.jpeg; " radius="0.5"
                        position="0.7 1.1 -0.1"></a-dodecahedron>
        <a-dodecahedron shadow="receive: true" material="src: textures/stone1.jpeg; " radius="0.3"
                        position="-0.5 1.1 -0.1"></a-dodecahedron>
        <a-dodecahedron shadow="receive: true" material="src: textures/stone2.jpg; " radius="0.3"
                        position="-0.8 0.5 -0.1"></a-dodecahedron>
        <a-dodecahedron shadow="receive: true" material="src: textures/stone1.jpeg; " radius="0.3"
                        position="-0.9 -0.1 -0.1"></a-dodecahedron>
        <a-dodecahedron shadow="receive: true" material="src: textures/stone1.jpeg; " radius="0.3"
                        position="1 0.6 -0.1"></a-dodecahedron>
        <a-dodecahedron shadow="receive: true" material="src: textures/stone1.jpeg; " radius="0.3"
                        position="1.2 0.1 -0.1"></a-dodecahedron>
        <a-dodecahedron shadow="receive: true" material="src: textures/stone2.jpg; " radius="0.3"
                        position="1.2 -0.3 -0.1"></a-dodecahedron>
        <a-dodecahedron shadow="receive: true" material="src: textures/stone1.jpeg; " radius="0.3"
                        position="-0.8 0.1 -0.1"></a-dodecahedron>
        <a-dodecahedron shadow="receive: true" material="src: textures/stone1.jpeg; " radius="0.3"
                        position="-0.8 -0.3 -0.1"></a-dodecahedron>
        <a-dodecahedron shadow="receive: true" material="src: textures/stone1.jpeg; " radius="0.4"
                        position="0 -1 -0.1"></a-dodecahedron>
        <a-dodecahedron shadow="receive: true" material="src: textures/stone1.jpeg; " radius="0.3"
                        position="0.7 -1 -0.1"></a-dodecahedron>
        <a-dodecahedron shadow="receive: true" material="src: textures/stone2.jpg; " radius="0.3"
                        position="-0.5 -1 -0.1"></a-dodecahedron>
        <a-dodecahedron shadow="receive: true" material="src: textures/stone1.jpeg; " radius="0.45"
                        position="-0.6 -0.9 -0.1"></a-dodecahedron>
        <a-dodecahedron shadow="receive: true" material="src: textures/stone1.jpeg; " radius="0.45"
                        position="-0.7 1 -0.1"></a-dodecahedron>
        <a-dodecahedron shadow="receive: true" material="src: textures/stone2.jpg; " radius="0.45"
                        position="-0.8 -0.4 -0.1"></a-dodecahedron>
        <a-entity shadow="receive: true" rotation="75 0 0" position="-1 0.8 -0.1" scale="0.1 0.1 0.1"
                  obj-model="obj: url(obj/grass/grass-plant.obj); mtl: url(obj/grass/grass-plant.mtl)"></a-entity>
        <a-entity shadow="receive: true" rotation="75 0 0" position="1 0.8 0.1" scale="0.05 0.05 0.05"
                  obj-model="obj: url(obj/grass/grass-plant.obj); mtl: url(obj/grass/grass-plant.mtl)"></a-entity>
        <a-entity shadow="receive: true" rotation="75 0 0" position="0.6 -1 -0.1" scale="0.05 0.05 0.05"
                  obj-model="obj: url(obj/grass/grass-plant.obj); mtl: url(obj/grass/grass-plant.mtl)"></a-entity>
        <a-entity shadow="receive: true" rotation="75 0 0" position="1.1 -1 -0.1" scale="0.5 0.5 0.5"
                  obj-model="obj: url(obj/barrel/barrel.obj); mtl: url(obj/barrel/barrel.mtl)"></a-entity>
    </a-entity>
    <!-- КОНЕЦ ОЗЕРА -->

    <!-- НАЧАЛО АНИМАЦИИ -->
    <a-entity id="mouseCursor" cursor="rayOrigin: mouse"></a-entity>
    <a-entity position="0.4 0.2 -1" rotation="0 0 0">
        <a-box position="-0.5 0 -0.07" class="door" material="src: textures/door.jpg; width:1000;" height="1.4"
               width="0.8" depth="0.2"></a-box>
    </a-entity>
    <a-cylinder shadow="receive: true" position="-2.5 5.5 -2" material="src: textures/roof.jpg" height="1.5"
                radius="0.02">
        <a-entity shadow="receive: true" position="0.8 0.4 0" id="flag" material="src: textures/flag.png"
                  ocean="density: 2; width: 1.5; depth: 0.5; speed: 1"
                  material="color: #9CE3F9; opacity: 0.75; metalness: 0; roughness: 1"
                  rotation="0 0 0"></a-entity>
    </a-cylinder>
    <a-cone shadow="receive: true" class="roof" material="src: textures/roof.png; repeat: 5 5" position="-2.5 3.5 -2"
            radius-bottom="1.8"
            radius-top="0" height="3" width="1"></a-cone>
    <a-box shadow="receive: true" class="left-wall" material="src: textures/wall.jpg; repeat: 3 3" position="-4 0.5 -2"
           rotation="0 90 0"
           height="3"
           width="2" depth="0.05"></a-box>
    <a-box shadow="receive: true" class="back-wall" material="src: textures/wall.jpg; repeat: 3 3"
           position="-2.5 0.5 -3" rotation="0 0 0"
           height="3"
           width="3" depth="0.2"></a-box>
    <a-box shadow="receive: true" class="front-wall" material="src: textures/wall.jpg; repeat: 3 3"
           position="-2.5 1.6 -1.1" rotation="0 0 0"
           height="0.8"
           width="3" depth="0.2"></a-box>
    <a-box shadow="receive: true" class="floor" material="src: textures/roof.png; repeat: 3 3" position="-2.5 -0.4 -2"
           rotation="90 0 0"
           height="1.7"
           width="3" depth="0.2">
        <a-entity shadow="receive: true" position="-0.5 -0.2 -0.65" scale="0.5 0.5 0.5"
                  obj-model="obj: url(obj/box/sg-wooden-box.obj); mtl: url(obj/box/sg-wooden-box.mtl)"></a-entity>
        <a-entity shadow="receive: true" position="0.6 -0.2 -0.65" scale="0.5 0.5 0.5"
                  obj-model="obj: url(obj/box/sg-wooden-box.obj); mtl: url(obj/box/sg-wooden-box.mtl)"></a-entity>
        <a-entity shadow="receive: true" position="0.1 -0.2 -1.7" scale="0.5 0.5 0.5"
                  obj-model="obj: url(obj/box/sg-wooden-box.obj); mtl: url(obj/box/sg-wooden-box.mtl)"></a-entity>
    </a-box>
    <a-box shadow="receive: true" class="front-wall-1" material="src: textures/wall.jpg; repeat: 3 3"
           position="-3.6 0.2 -1.1" rotation="0 0 90"
           height="0.8"
           width="2" depth="0.2">
        <a-entity shadow="receive: true" position="-0.6 1.2 3" scale="0.2 0.2 0.2" rotation="45 0 -90"
                  animation="property: rotation; to: 405 0 -90; loop: true; dur: 10000; easing: linear;"
                  obj-model="obj: url(obj/dona/dona-teodora.obj); mtl: url(obj/dona/dona-teodora.mtl)"></a-entity>
    </a-box>
    <a-box shadow="receive: true" class="front-wall-2" material="src: textures/wall.jpg; repeat: 3 3"
           position="-1.4 0.2 -1.1" rotation="0 0 90"
           height="0.8"
           width="2" depth="0.2">
    </a-box>
    <a-box shadow="receive: true" class="window" material="src: textures/window.png; width:1000"
           position="-2.4 1.6 -1.08" rotation="0 0 0"
           height="0.5"
           width="0.8" depth="0.2"></a-box>
    <!-- БОЧКИ -->
    <a-entity shadow="receive: true" position="-1.6 -0.2 -0.65" scale="0.5 0.5 0.5"
              obj-model="obj: url(obj/barrel/barrel.obj); mtl: url(obj/barrel/barrel.mtl)"></a-entity>
    <a-entity shadow="receive: true" position="-1.1 -0.2 -0.65" scale="0.5 0.5 0.5"
              obj-model="obj: url(obj/barrel/barrel.obj); mtl: url(obj/barrel/barrel.mtl)"></a-entity>
    <a-entity shadow="receive: true" position="-1.3 0.6 -0.65" scale="0.5 0.5 0.5"
              obj-model="obj: url(obj/barrel/barrel.obj); mtl: url(obj/barrel/barrel.mtl)">
        <a-entity position="0 1.52 -0.1" scale="0.5 0.5 0.5" geometry="primitive:box"
                  material="shader:gif;src:url(textures/bears.gif);" gif=""></a-entity>
    </a-entity>
    <!-- КОНЕЦ БОЧКИ -->
    <!-- КОНЕЦ ПРИСТРОЙКИ -->

    <!-- НАЧАЛО ДОМА -->
    <a-entity animation="property: rotation; to: 0 360 0; dur: 40000; easing: linear; loop: true">
        <a-entity mixin="light" position="30 0 0"></a-entity>
    </a-entity>
    <a-entity animation="property: rotation; to: 0 360 0; dur: 40000; easing: linear; loop: true">
        <a-entity mixin="light" position="-30 0 0"></a-entity>
    </a-entity>
    <a-entity light="castShadow:true; type: point; intensity: 0.75; distance: 100; decay: 2"
              position="2 1 1"></a-entity>

    <a-cone shadow="receive: true" class="roof" material="src: textures/roof.png; repeat: 5 5" position="-0.05 2.5 -2.1"
            radius-bottom="1.5"
            radius-top="0" height="2" width="1"></a-cone>
    <a-box shadow="receive: true" class="window" material="src: textures/window.png; width:1000"
           position="-0.1 1.2 -1.07" rotation="0 0 0"
           height="0.5"
           width="0.8" depth="0.2"></a-box>
    <a-box shadow="receive: true" class="back-wall" material="src: textures/wall.jpg; repeat: 3 3"
           position="-0.1 0.5 -3" rotation="0 0 0"
           height="2"
           width="1.8" depth="0.2"></a-box>
    <a-box shadow="receive: true" class="front-wall" material="src: textures/wall.jpg; repeat: 3 3"
           position="-0.1 0.5 -1.1" rotation="0 0 0"
           height="2"
           width="1.8" depth="0.2">
        <a-sphere mirror position="-4.5 0.1 5" radius="0.5"></a-sphere>
    </a-box>
    <a-box shadow="receive: true" class="left-wall" material="src: textures/wall.jpg; repeat: 3 3" position="-1 0.5 -2"
           rotation="0 90 0"
           height="2"
           width="2" depth="0.05"></a-box>
    <a-box shadow="receive: true" class="right-window" material="src: textures/window.png; width:1000"
           position="0.75 0.8 -2"
           rotation="0 90 0"
           height="1" width="0.8" depth="0.2"></a-box>
    <a-box shadow="receive: true" class="right-wall" material="src: textures/wall.jpg; repeat: 3 3"
           position="0.8 0.5 -2" rotation="0 90 0" c
           height="2" width="2" depth="0.05">
    </a-box>
    <a-box shadow="receive: true" static-body class="grass" material="src: textures/grass.png; repeat: 10 10"
           position="-0.1 -0.5 -1" rotation="270 0 180"
           c
           height="13" width="13" depth="0.2">
        <a-entity position="-6 1 1">
            <a-box color="tomato" depth="1" height="1" width="0.5"
                   event-set__enter="_event: mouseenter; color: white"
                   event-set__leave="_event: mouseleave; color: tomato">
            </a-box>
            <a-text rotation="0 90 90" value="Hover effect" align="center" color="#FFF" visible="true" position="-0.5 0 1"
                    geometry="primitive: plane; width: 1.5" width="3" material="color: #333"></a-text>
            <a-box position="0 1.5 0" id="colorRandom" color="orange" depth="1" height="1" width="0.5">
            </a-box>
            <a-text rotation="0 90 90" value="Random color on click" width="3" align="center" color="#FFF" visible="true" position="-0.5 1.5 1"
                    geometry="primitive: plane; width: 1.5" material="color: #333"></a-text>
            <a-box position="0 3 0" id="soundToggle" color="green" depth="1" height="1" width="0.5" sound="src: url(sound/illuminati.mp3); loop: true; volume: 0.7; maxDistance: 10000">
            </a-box>
            <a-text rotation="0 90 90" value="Toggle sound on click" align="center" width="3" color="#FFF" visible="true" position="-0.5 3 1"
                    geometry="primitive: plane; width: 1.5" material="color: #333"></a-text>
            <a-box position="0 4.5 0" id="loopToggle" color="pink" depth="1" height="1" width="0.5"
                   event-set__click="_event: click; target: #scene; sound.loop: false;"
            >
            </a-box>
            <a-text rotation="0 90 90" value="Turn off ambient sound loop" align="center" width="2" color="#FFF" visible="true" position="-0.5 4.5 1"
                    geometry="primitive: plane; width: 1.5" material="color: #333"></a-text>
        </a-entity>
    </a-box>
    <a-sky animation="property: rotation; from: 0 0 0; to: 0 360 0; dur: 120000; loop: true; easing: linear"
           material="src: textures/sky.jpg; width:1000" color="#ECECEC"></a-sky>
    <!-- КОНЕЦ ДОМА -->


    <a-entity shadow="receive: true" position="-12 -0.2 -0.65" scale="0.5 0.5 0.5"
              obj-model="obj: url(obj/bridge/bridge.obj); mtl: url(obj/bridge/bridge.mtl)"></a-entity>
    <a-box shadow="receive: true" static-body class="grass" material="src: textures/grass.png; repeat: 10 10"
           position="-14 -0.5 -0.65" rotation="270 0 180"
           height="6" width="6" depth="0.2">
        <a-cylinder shadow="receive: true" material="src: textures/wall.jpg; repeat: 3 3" position="1 0 4.7" height="10"
                    radius="1.5" rotation="90 0 0">
            <a-cylinder shadow="receive: true" position="0 8 0" material="src: textures/roof.jpg" height="1.5"
                        radius="0.02">
                <a-entity shadow="receive: true" position="0.8 0.4 0" id="flag" material="src: textures/flag.png"
                          ocean="density: 2; width: 1.5; depth: 0.5; speed: 1"
                          material="color: #9CE3F9; opacity: 0.75; metalness: 0; roughness: 1"
                          rotation="0 0 0"></a-entity>
            </a-cylinder>
            <a-cone shadow="receive: true" class="roof" material="src: textures/roof.png; repeat: 5 5" position="0 6 0"
                    radius-bottom="1.8"
                    radius-top="0" height="3" width="1"></a-cone>
        </a-cylinder>
    </a-box>
    <a-entity scale="1,3,2" position="4.1 0.2 -1.6" food src="textures/food.jpeg"></a-entity>
    <a-entity scale="0.3 0.3 0.3" position="-14 -0.3 4"
              charts="dataPoints: user-components/chart.json; type: bar"></a-entity>
</a-scene>
</body>
</html>
